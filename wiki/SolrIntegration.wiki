#labels Phase-Implementation
=Solr Integration=

*_This is currently in experimental stage, and only available on the BR_DEV_SOLR_PLUGIN branch_*

==Introduction==

With the custom !IndexReaderFactory support ([https://issues.apache.org/jira/browse/SOLR-243 SOLR-243], target release 1.4) We have built a plugin to run bobo inside the Solr container.

==Configuration==

_solrconfig.xml_ neends to be modified to hook up the plugin:

===!IndexReaderFactory===

Install !BoboIndexReaderFactory as a custom !IndexReaderFactory

{{{
<indexReaderFactory name="IndexReaderFactory" class="com.browseengine.solr.BoboIndexReaderFactory">
</indexReaderFactory >
}}}

===!RequestHandler===

Install !BoboRequestHandler as a custom !SolrRequestHandler with the name: bobo

{{{
<requestHandler name="bobo" class="com.browseengine.solr.BoboRequestHandler" >
</requestHandler>
}}}

See also: [http://wiki.apache.org/solr/SolrRequestHandler | SolrRequestHandler on Solr Wiki]

===!ResponseWriter===

Install !BoboXMLResponseWriter as a custom !QueryResponseWriter with the name: bobo

{{{
<queryResponseWriter name="bobo" class="com.browseengine.solr.BoboXMLResponseWriter">
</queryResponseWriter>
}}}

See also: [http://wiki.apache.org/solr/QueryResponseWriter | QueryResponseWriter on Solr Wiki]

==Jars==

Currently there is a problem with conflicting !ClassLoader between Solr container and Spring. To work around it, we need to bundle the following jars with *solr.war*, e.g. in the WEB-INF/lib directory:

|| *jar name* || *location* || *comments* || *url* ||
||kamikaze-1.0.7.jar||lib||lucene enhancements||[http://code.google.com/p/lucene-ext]||
||fastutil-5.1.5.jar||lib||fast primitive collections api||[http://fastutil.dsi.unimi.it/]||
||spring-2.5.5.jar||lib||spring dependency injection framework||[http://www.springsource.org/]||
||xstream-1.2.jar||lib||xml serialization library||[http://xstream.codehaus.org/]||
||bobo-browse.jar||dist||bobo library, build via ant||||
||bobo-solr.jar||dist||bobo solr plugin, build via ant||||